{
  "@context": {
    "@version": 1.1,
    "deg": "https://raw.githubusercontent.com/beckn/DEG/refs/heads/main/specification/schema/EnergyTradeLedger/#",
    "schema": "https://schema.org/",
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "owl": "http://www.w3.org/2002/07/owl#",
    "qudt": "http://qudt.org/vocab/unit/"
  },
  "@graph": [
    {
      "@id": "deg:LedgerRecord",
      "@type": "rdfs:Class",
      "rdfs:label": "Ledger Record",
      "rdfs:comment": "An immutable, multi-party record of an energy trade in the DEG ledger. Represents the canonical view of a trade lifecycle including parties, timing, quantities, and validation metrics.",
      "rdfs:subClassOf": { "@id": "schema:Invoice" }
    },
    {
      "@id": "deg:TradeDetail",
      "@type": "rdfs:Class",
      "rdfs:label": "Trade Detail",
      "rdfs:comment": "Specification of energy quantity, type, and unit for a single trade component.",
      "rdfs:subClassOf": { "@id": "schema:QuantitativeValue" }
    },
    {
      "@id": "deg:ValidationMetric",
      "@type": "rdfs:Class",
      "rdfs:label": "Validation Metric",
      "rdfs:comment": "A fulfillment validation measurement recorded by a discom (distribution company) to verify trade execution.",
      "rdfs:subClassOf": { "@id": "schema:Observation" }
    },

    {
      "@id": "deg:recordId",
      "@type": "rdf:Property",
      "rdfs:label": "Record ID",
      "rdfs:comment": "Unique ledger record identifier, generated by the ledger service.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text",
      "owl:equivalentProperty": "schema:identifier"
    },
    {
      "@id": "deg:transactionId",
      "@type": "rdf:Property",
      "rdfs:label": "Transaction ID",
      "rdfs:comment": "Beckn protocol transaction identifier. Part of the uniqueness key (transactionId + orderItemId).",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:orderItemId",
      "@type": "rdf:Property",
      "rdfs:label": "Order Item ID",
      "rdfs:comment": "Beckn order item identifier. Part of the uniqueness key (transactionId + orderItemId).",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:creationTime",
      "@type": "rdf:Property",
      "rdfs:label": "Creation Time",
      "rdfs:comment": "Timestamp when the ledger record was created by the service.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:DateTime",
      "owl:equivalentProperty": "schema:dateCreated"
    },
    {
      "@id": "deg:tradeTime",
      "@type": "rdf:Property",
      "rdfs:label": "Trade Time",
      "rdfs:comment": "Timestamp when the trade agreement was finalized.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:DateTime",
      "owl:equivalentProperty": "schema:orderDate"
    },
    {
      "@id": "deg:deliveryStartTime",
      "@type": "rdf:Property",
      "rdfs:label": "Delivery Start Time",
      "rdfs:comment": "Timestamp when energy delivery begins.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:DateTime",
      "owl:equivalentProperty": "schema:availabilityStarts"
    },
    {
      "@id": "deg:deliveryEndTime",
      "@type": "rdf:Property",
      "rdfs:label": "Delivery End Time",
      "rdfs:comment": "Timestamp when energy delivery ends.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:DateTime",
      "owl:equivalentProperty": "schema:availabilityEnds"
    },

    {
      "@id": "deg:platformIdBuyer",
      "@type": "rdf:Property",
      "rdfs:label": "Buyer Platform ID",
      "rdfs:comment": "Identifier of the buyer's trading platform (BAP).",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:platformIdSeller",
      "@type": "rdf:Property",
      "rdfs:label": "Seller Platform ID",
      "rdfs:comment": "Identifier of the seller's trading platform (BPP).",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:discomIdBuyer",
      "@type": "rdf:Property",
      "rdfs:label": "Buyer Discom ID",
      "rdfs:comment": "Identifier of the distribution company serving the buyer.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:discomIdSeller",
      "@type": "rdf:Property",
      "rdfs:label": "Seller Discom ID",
      "rdfs:comment": "Identifier of the distribution company serving the seller.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:buyerId",
      "@type": "rdf:Property",
      "rdfs:label": "Buyer ID",
      "rdfs:comment": "Unique buyer identifier (e.g., CA number, utility-assigned ID).",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:sellerId",
      "@type": "rdf:Property",
      "rdfs:label": "Seller ID",
      "rdfs:comment": "Unique seller identifier (e.g., DER ID, prosumer ID).",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },

    {
      "@id": "deg:tradeDetails",
      "@type": "rdf:Property",
      "rdfs:label": "Trade Details",
      "rdfs:comment": "Array of trade specifications (type, quantity, unit).",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "deg:TradeDetail"
    },
    {
      "@id": "deg:tradeType",
      "@type": "rdf:Property",
      "rdfs:label": "Trade Type",
      "rdfs:comment": "Classification of the energy trade product.",
      "rdfs:domain": "deg:TradeDetail",
      "schema:rangeIncludes": "deg:TradeType"
    },
    {
      "@id": "deg:tradeQty",
      "@type": "rdf:Property",
      "rdfs:label": "Trade Quantity",
      "rdfs:comment": "Numeric quantity of energy or capacity traded.",
      "rdfs:domain": "deg:TradeDetail",
      "schema:rangeIncludes": "schema:Number",
      "owl:equivalentProperty": "schema:value"
    },
    {
      "@id": "deg:tradeUnit",
      "@type": "rdf:Property",
      "rdfs:label": "Trade Unit",
      "rdfs:comment": "Unit of measurement for the trade quantity.",
      "rdfs:domain": "deg:TradeDetail",
      "schema:rangeIncludes": "deg:TradeUnit",
      "owl:equivalentProperty": "schema:unitCode"
    },

    {
      "@id": "deg:buyerFulfillmentValidationMetrics",
      "@type": "rdf:Property",
      "rdfs:label": "Buyer Fulfillment Validation Metrics",
      "rdfs:comment": "Validation metrics recorded by the buyer-side discom.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "deg:ValidationMetric"
    },
    {
      "@id": "deg:sellerFulfillmentValidationMetrics",
      "@type": "rdf:Property",
      "rdfs:label": "Seller Fulfillment Validation Metrics",
      "rdfs:comment": "Validation metrics recorded by the seller-side discom.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "deg:ValidationMetric"
    },
    {
      "@id": "deg:validationMetricType",
      "@type": "rdf:Property",
      "rdfs:label": "Validation Metric Type",
      "rdfs:comment": "Type of validation measurement.",
      "rdfs:domain": "deg:ValidationMetric",
      "schema:rangeIncludes": "deg:MetricType"
    },
    {
      "@id": "deg:validationMetricValue",
      "@type": "rdf:Property",
      "rdfs:label": "Validation Metric Value",
      "rdfs:comment": "Numeric value of the validation measurement.",
      "rdfs:domain": "deg:ValidationMetric",
      "schema:rangeIncludes": "schema:Number",
      "owl:equivalentProperty": "schema:value"
    },

    {
      "@id": "deg:statusBuyerDiscom",
      "@type": "rdf:Property",
      "rdfs:label": "Buyer Discom Status",
      "rdfs:comment": "Trade lifecycle status as recorded by the buyer-side discom.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "deg:TradeStatus"
    },
    {
      "@id": "deg:statusSellerDiscom",
      "@type": "rdf:Property",
      "rdfs:label": "Seller Discom Status",
      "rdfs:comment": "Trade lifecycle status as recorded by the seller-side discom.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "deg:TradeStatus"
    },

    {
      "@id": "deg:rowDigest",
      "@type": "rdf:Property",
      "rdfs:label": "Row Digest",
      "rdfs:comment": "Cryptographic digest of the canonical row state for integrity verification.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:clientReference",
      "@type": "rdf:Property",
      "rdfs:label": "Client Reference",
      "rdfs:comment": "Client-generated idempotency token for safe retries.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text"
    },
    {
      "@id": "deg:note",
      "@type": "rdf:Property",
      "rdfs:label": "Note",
      "rdfs:comment": "Free-text annotation or explanation for a ledger operation.",
      "rdfs:domain": "deg:LedgerRecord",
      "schema:rangeIncludes": "schema:Text",
      "owl:equivalentProperty": "schema:description"
    },
    {
      "@id": "deg:role",
      "@type": "rdf:Property",
      "rdfs:label": "Role",
      "rdfs:comment": "Role of the caller in the ledger operation.",
      "schema:rangeIncludes": "deg:LedgerRole"
    },

    {
      "@id": "deg:LedgerRole",
      "@type": "schema:Enumeration",
      "schema:name": "Ledger Role",
      "rdfs:comment": "Enumeration of participant roles in ledger operations.",
      "schema:hasEnumerationMember": [
        { "@id": "deg:RoleBuyer" },
        { "@id": "deg:RoleSeller" },
        { "@id": "deg:RoleBuyerDiscom" },
        { "@id": "deg:RoleSellerDiscom" }
      ]
    },
    {
      "@id": "deg:RoleBuyer",
      "@type": ["deg:LedgerRole", "schema:Enumeration"],
      "schema:name": "BUYER",
      "schema:identifier": "BUYER",
      "rdfs:comment": "Buyer platform role - can create/update records via /ledger/put."
    },
    {
      "@id": "deg:RoleSeller",
      "@type": ["deg:LedgerRole", "schema:Enumeration"],
      "schema:name": "SELLER",
      "schema:identifier": "SELLER",
      "rdfs:comment": "Seller platform role - can create/update records via /ledger/put."
    },
    {
      "@id": "deg:RoleBuyerDiscom",
      "@type": ["deg:LedgerRole", "schema:Enumeration"],
      "schema:name": "BUYER_DISCOM",
      "schema:identifier": "BUYER_DISCOM",
      "rdfs:comment": "Buyer-side distribution company - records validation metrics and status via /ledger/record."
    },
    {
      "@id": "deg:RoleSellerDiscom",
      "@type": ["deg:LedgerRole", "schema:Enumeration"],
      "schema:name": "SELLER_DISCOM",
      "schema:identifier": "SELLER_DISCOM",
      "rdfs:comment": "Seller-side distribution company - records validation metrics and status via /ledger/record."
    },

    {
      "@id": "deg:TradeType",
      "@type": "schema:Enumeration",
      "schema:name": "Trade Type",
      "rdfs:comment": "Enumeration of energy trade product types.",
      "schema:hasEnumerationMember": [
        { "@id": "deg:TradeTypeEnergy" },
        { "@id": "deg:TradeTypeRaiseCapacity" },
        { "@id": "deg:TradeTypeLowerCapacity" },
        { "@id": "deg:TradeTypePFR" },
        { "@id": "deg:TradeTypeSFR" },
        { "@id": "deg:TradeTypeTC" },
        { "@id": "deg:TradeTypeBDR" }
      ]
    },
    {
      "@id": "deg:TradeTypeEnergy",
      "@type": ["deg:TradeType", "schema:Enumeration"],
      "schema:name": "ENERGY",
      "schema:identifier": "ENERGY",
      "rdfs:comment": "Pure energy trade (kWh)."
    },
    {
      "@id": "deg:TradeTypeRaiseCapacity",
      "@type": ["deg:TradeType", "schema:Enumeration"],
      "schema:name": "RAISE_CAPACITY",
      "schema:identifier": "RAISE_CAPACITY",
      "rdfs:comment": "Frequency regulation - raise capacity service."
    },
    {
      "@id": "deg:TradeTypeLowerCapacity",
      "@type": ["deg:TradeType", "schema:Enumeration"],
      "schema:name": "LOWER_CAPACITY",
      "schema:identifier": "LOWER_CAPACITY",
      "rdfs:comment": "Frequency regulation - lower capacity service."
    },
    {
      "@id": "deg:TradeTypePFR",
      "@type": ["deg:TradeType", "schema:Enumeration"],
      "schema:name": "PFR",
      "schema:identifier": "PFR",
      "rdfs:comment": "Primary Frequency Response service."
    },
    {
      "@id": "deg:TradeTypeSFR",
      "@type": ["deg:TradeType", "schema:Enumeration"],
      "schema:name": "SFR",
      "schema:identifier": "SFR",
      "rdfs:comment": "Secondary Frequency Response service."
    },
    {
      "@id": "deg:TradeTypeTC",
      "@type": ["deg:TradeType", "schema:Enumeration"],
      "schema:name": "TC",
      "schema:identifier": "TC",
      "rdfs:comment": "Tertiary Control / reserve service."
    },
    {
      "@id": "deg:TradeTypeBDR",
      "@type": ["deg:TradeType", "schema:Enumeration"],
      "schema:name": "BDR",
      "schema:identifier": "BDR",
      "rdfs:comment": "Behavioral Demand Response service."
    },

    {
      "@id": "deg:TradeUnit",
      "@type": "schema:Enumeration",
      "schema:name": "Trade Unit",
      "rdfs:comment": "Enumeration of energy measurement units.",
      "schema:hasEnumerationMember": [
        { "@id": "deg:TradeUnitKWH" },
        { "@id": "deg:TradeUnitKW" }
      ]
    },
    {
      "@id": "deg:TradeUnitKWH",
      "@type": ["deg:TradeUnit", "schema:Enumeration"],
      "schema:name": "KWH",
      "schema:identifier": "KWH",
      "rdfs:comment": "Kilowatt-hours (energy).",
      "owl:sameAs": { "@id": "qudt:KiloW-HR" }
    },
    {
      "@id": "deg:TradeUnitKW",
      "@type": ["deg:TradeUnit", "schema:Enumeration"],
      "schema:name": "KW",
      "schema:identifier": "KW",
      "rdfs:comment": "Kilowatts (power/capacity).",
      "owl:sameAs": { "@id": "qudt:KiloW" }
    },

    {
      "@id": "deg:MetricType",
      "@type": "schema:Enumeration",
      "schema:name": "Metric Type",
      "rdfs:comment": "Enumeration of fulfillment validation metric types.",
      "schema:hasEnumerationMember": [
        { "@id": "deg:MetricActualPushed" },
        { "@id": "deg:MetricActualPulled" },
        { "@id": "deg:MetricSetpointFollowingError" },
        { "@id": "deg:MetricActualRaiseCapacity" },
        { "@id": "deg:MetricActualLowerCapacity" },
        { "@id": "deg:MetricFrequencyResponseError" },
        { "@id": "deg:MetricActualDemandReduction" },
        { "@id": "deg:MetricAvailability" }
      ]
    },
    {
      "@id": "deg:MetricActualPushed",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "ACTUAL_PUSHED",
      "schema:identifier": "ACTUAL_PUSHED",
      "rdfs:comment": "Actual energy pushed/injected to the grid (seller-side)."
    },
    {
      "@id": "deg:MetricActualPulled",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "ACTUAL_PULLED",
      "schema:identifier": "ACTUAL_PULLED",
      "rdfs:comment": "Actual energy pulled/consumed from the grid (buyer-side)."
    },
    {
      "@id": "deg:MetricSetpointFollowingError",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "SETPOINT_FOLLOWING_ERROR",
      "schema:identifier": "SETPOINT_FOLLOWING_ERROR",
      "rdfs:comment": "Deviation from the agreed setpoint during delivery."
    },
    {
      "@id": "deg:MetricActualRaiseCapacity",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "ACTUAL_RAISE_CAPACITY",
      "schema:identifier": "ACTUAL_RAISE_CAPACITY",
      "rdfs:comment": "Actual raise capacity delivered for frequency regulation."
    },
    {
      "@id": "deg:MetricActualLowerCapacity",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "ACTUAL_LOWER_CAPACITY",
      "schema:identifier": "ACTUAL_LOWER_CAPACITY",
      "rdfs:comment": "Actual lower capacity delivered for frequency regulation."
    },
    {
      "@id": "deg:MetricFrequencyResponseError",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "FREQUENCY_RESPONSE_ERROR",
      "schema:identifier": "FREQUENCY_RESPONSE_ERROR",
      "rdfs:comment": "Error in frequency response performance."
    },
    {
      "@id": "deg:MetricActualDemandReduction",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "ACTUAL_DEMAND_REDUCTION",
      "schema:identifier": "ACTUAL_DEMAND_REDUCTION",
      "rdfs:comment": "Actual demand reduction achieved in BDR programs."
    },
    {
      "@id": "deg:MetricAvailability",
      "@type": ["deg:MetricType", "schema:Enumeration"],
      "schema:name": "AVAILABILITY",
      "schema:identifier": "AVAILABILITY",
      "rdfs:comment": "Resource availability percentage during the delivery window."
    },

    {
      "@id": "deg:TradeStatus",
      "@type": "schema:Enumeration",
      "schema:name": "Trade Status",
      "rdfs:comment": "Enumeration of trade lifecycle statuses.",
      "schema:hasEnumerationMember": [
        { "@id": "deg:TradeStatusPending" },
        { "@id": "deg:TradeStatusConfirmed" },
        { "@id": "deg:TradeStatusCancelledOutage" },
        { "@id": "deg:TradeStatusCancelledPolicyViolation" },
        { "@id": "deg:TradeStatusCurtailedOutage" },
        { "@id": "deg:TradeStatusCurtailedPolicyViolation" },
        { "@id": "deg:TradeStatusCompleted" }
      ]
    },
    {
      "@id": "deg:TradeStatusPending",
      "@type": ["deg:TradeStatus", "schema:Enumeration"],
      "schema:name": "PENDING",
      "schema:identifier": "PENDING",
      "rdfs:comment": "Trade is pending confirmation or delivery."
    },
    {
      "@id": "deg:TradeStatusConfirmed",
      "@type": ["deg:TradeStatus", "schema:Enumeration"],
      "schema:name": "CONFIRMED",
      "schema:identifier": "CONFIRMED",
      "rdfs:comment": "Trade is confirmed and scheduled for delivery."
    },
    {
      "@id": "deg:TradeStatusCancelledOutage",
      "@type": ["deg:TradeStatus", "schema:Enumeration"],
      "schema:name": "CANCELLED_OUTAGE",
      "schema:identifier": "CANCELLED_OUTAGE",
      "rdfs:comment": "Trade cancelled due to grid/equipment outage."
    },
    {
      "@id": "deg:TradeStatusCancelledPolicyViolation",
      "@type": ["deg:TradeStatus", "schema:Enumeration"],
      "schema:name": "CANCELLED_POL_VIOLATION",
      "schema:identifier": "CANCELLED_POL_VIOLATION",
      "rdfs:comment": "Trade cancelled due to policy/regulatory violation."
    },
    {
      "@id": "deg:TradeStatusCurtailedOutage",
      "@type": ["deg:TradeStatus", "schema:Enumeration"],
      "schema:name": "CURTAILED_OUTAGE",
      "schema:identifier": "CURTAILED_OUTAGE",
      "rdfs:comment": "Trade partially delivered due to outage (curtailed)."
    },
    {
      "@id": "deg:TradeStatusCurtailedPolicyViolation",
      "@type": ["deg:TradeStatus", "schema:Enumeration"],
      "schema:name": "CURTAILED_POL_VIOLATION",
      "schema:identifier": "CURTAILED_POL_VIOLATION",
      "rdfs:comment": "Trade partially delivered due to policy violation (curtailed)."
    },
    {
      "@id": "deg:TradeStatusCompleted",
      "@type": ["deg:TradeStatus", "schema:Enumeration"],
      "schema:name": "COMPLETED",
      "schema:identifier": "COMPLETED",
      "rdfs:comment": "Trade successfully completed."
    }
  ]
}
